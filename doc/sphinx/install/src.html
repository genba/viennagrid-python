

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>2.4. Installation from source &mdash; ViennaGrid for Python 0.1.0 documentation</title>
    
    <link rel="stylesheet" href="../static/default.css" type="text/css" />
    <link rel="stylesheet" href="../static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../static/jquery.js"></script>
    <script type="text/javascript" src="../static/underscore.js"></script>
    <script type="text/javascript" src="../static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="ViennaGrid for Python 0.1.0 documentation" href="../index.html" />
    <link rel="up" title="2. Installation instructions" href="../install.html" />
    <link rel="next" title="3. Tutorials" href="../tutorial.html" />
    <link rel="prev" title="2.3. Installation on OS X" href="osx.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../tutorial.html" title="3. Tutorials"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="osx.html" title="2.3. Installation on OS X"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">ViennaGrid for Python 0.1.0 documentation</a> &raquo;</li>
          <li><a href="../install.html" accesskey="U">2. Installation instructions</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="installation-from-source">
<span id="id1"></span><h1>2.4. Installation from source<a class="headerlink" href="#installation-from-source" title="Permalink to this headline">¶</a></h1>
<p>To install from source, your system must satisfy the following dependencies:</p>
<ul class="simple">
<li><strong>CMake 2.6 or greater</strong> (2.8 is preferred)</li>
<li><strong>Python 2.0 or greater</strong> (2.7 is preferred; Python 3 is not officially supported yet)</li>
<li><strong>Python development libraries</strong> (header files) for your Python version</li>
<li><strong>A modern C++ compiler</strong> (for development, clang 3.0 has been used)</li>
</ul>
<p><a class="reference external" href="http://www.boost.org/">Boost.Python</a> (1.53.0 or greater) and <a class="reference external" href="http://viennagrid.sourceforge.net/">ViennaGrid</a> (1.1.0 or greater) are also required to compile ViennaGrid for Python, but, if you don&#8217;t have them, you can follow the steps in section <a class="reference internal" href="#setting-up-devel-environ"><em>Setting up the development environment</em></a> to install them. On the other hand, if you already have them, you can skip directly to section <a class="reference internal" href="#configuring-source"><em>Configuring the source code to be built</em></a> (provided that you don&#8217;t want to create a virtual environment, which is done in section <a class="reference internal" href="#setting-up-devel-environ"><em>Setting up the development environment</em></a>).</p>
<div class="section" id="downloading-the-source-code-of-viennagrid-for-python">
<h2>2.4.1. Downloading the source code of ViennaGrid for Python<a class="headerlink" href="#downloading-the-source-code-of-viennagrid-for-python" title="Permalink to this headline">¶</a></h2>
<p>To download any stable release of ViennaGrid for Python, go to our <a class="reference external" href="http://genba.github.io/viennagrid-python/">GitHub page</a> and visit the Downloads section. If you prefer to use the latest version from our Git repository (or if you want to develop ViennaGrid for Python), you should rather get the code by cloning the <a class="reference external" href="https://github.com/genba/viennagrid-python">Git repository</a>.</p>
<p>Once you have the source code decompressed on your disk, enter the source code directory, which will be called something like <cite>viennagrid-python</cite> if you cloned the Git repository, or the same name plus a version number if you downloaded the tarball of a stable release (e.g. <cite>viennagrid-python-0.1.0</cite>):</p>
<div class="highlight-python"><pre>cd viennagrid-python-0.1.0/</pre>
</div>
</div>
<div class="section" id="setting-up-the-development-environment">
<span id="setting-up-devel-environ"></span><h2>2.4.2. Setting up the development environment<a class="headerlink" href="#setting-up-the-development-environment" title="Permalink to this headline">¶</a></h2>
<p>Before compiling ViennaGrid for Python, you must set up a development environment.</p>
<p>In order to set up a development environment for ViennaGrid for Python, we must do the following:</p>
<ol class="arabic simple">
<li>Download and install Boost.Python</li>
<li>Download the source code of ViennaGrid</li>
<li>Optionally, create a Python virtual environment</li>
</ol>
<p>To set up a development environment, you can choose to do either a <a class="reference internal" href="#manual-setup"><em>Manual setup</em></a> or an <a class="reference internal" href="#automatic-setup"><em>Automatic setup</em></a> using a script provided with the source code of ViennaGrid for Python.</p>
<div class="section" id="manual-setup">
<span id="id2"></span><h3>2.4.2.1. Manual setup<a class="headerlink" href="#manual-setup" title="Permalink to this headline">¶</a></h3>
<div class="section" id="downloading-and-installing-boost-python">
<h4>2.4.2.1.1. Downloading and installing Boost.Python<a class="headerlink" href="#downloading-and-installing-boost-python" title="Permalink to this headline">¶</a></h4>
<p>If the package manager of your operating system provides packages for Boost.Python, you may install it from the packages, but please notice that the development of ViennaGrid for Python 0.1.0 was done using Boost 1.53.0. While a later version of Boost may work nicely, we cannot guarantee that a previous version will work without problems.</p>
<p>If you prefer to install Boost.Python from source, you&#8217;ll have to download Boost from <a class="reference external" href="http://www.boost.org/">http://www.boost.org/</a>. In general, you don&#8217;t need to compile Boost to use it, excepting when you use some of the few modules that require compilation. Boost.Python is one of those modules. Thus, we will have to compile it.</p>
<p>For the development of ViennaGrid for Python, we use the convention to place all libraries that ViennaGrid for Python needs into the <cite>inc</cite> directory under the source code root directory (in our example, <cite>viennagrid-python-0.1.0</cite>), but you may choose to place Boost anywhere in your system. If you install Boost after compiling it, the place where its source code is located on disk won&#8217;t matter and CMake (our configuration utility) will be able to find it. However, if you decide not to install Boost (which is totally fine), you&#8217;ll have to provide the full path to CMake when you configure the project for building.</p>
<p>That being said, we can proceed to fetch the Boost tarball from <a class="reference external" href="http://www.boost.org/">http://www.boost.org/</a> and decompress it. Since we used the bzipped version of Boost 1.53.0 for development:</p>
<div class="highlight-python"><pre>tar xvjf boost_1_53_0.tar.bz2</pre>
</div>
<p>Now, we must enter the decompressed directory and configure Boost to be built with the Boost.Python library:</p>
<div class="highlight-python"><pre>cd boost_1_53_0/
./bootstrap.sh --with-libraries=python</pre>
</div>
<p>After the configuration has finished, we compile Boost.Python by issuing the command:</p>
<div class="highlight-python"><pre>./b2</pre>
</div>
<p>Once the compilation has finished, the compilation script will show us the paths where Boost&#8217;s header files and shared libraries are located, respectively. If you decide not to install Boost on your system, you&#8217;ll have to note these two paths so that, later, you can tell CMake where Boost is located on your disk.</p>
<p>Finally, if you decide to install Boost.Python after all, you can do it like this (but please notice that you need administrator priviledges for this):</p>
<div class="highlight-python"><pre>./b2 install</pre>
</div>
<p>If you need more information on how to build Boost.Python, visit the <a class="reference external" href="http://www.boost.org/doc/">Boost documentation</a>.</p>
</div>
<div class="section" id="getting-viennagrid">
<h4>2.4.2.1.2. Getting ViennaGrid<a class="headerlink" href="#getting-viennagrid" title="Permalink to this headline">¶</a></h4>
<p>If you are using a tarball, you&#8217;ll have to download ViennaGrid by yourself, either a stable version from <a class="reference external" href="http://viennagrid.sourceforge.net/">http://viennagrid.sourceforge.net/</a> or by cloning the code from <a class="reference external" href="https://github.com/viennagrid/viennagrid-dev">ViennaGrid&#8217;s GitHub repository</a>. At this time, the CMake configuration of ViennaGrid for Python is not able to find ViennaGrid if it&#8217;s outside of the <cite>inc</cite> directory mentioned above. Thus, you&#8217;ll have to download and decompress ViennaGrid to that directory if you don&#8217;t want to edit the CMake configuration files for the project. Likewise, if you are cloning it instead of installing from a tarball, we recommend you clone it to the <cite>inc</cite> directory with the following command (to rename the resulting directory):</p>
<div class="highlight-python"><pre>git clone git@github.com:viennagrid/viennagrid-dev.git viennagrid</pre>
</div>
<p>If you prefer to download ViennaGrid for Python by getting the code from <a class="reference external" href="https://github.com/genba/viennagrid-python">ViennaGrid for Python&#8217;s GitHub repository</a>,  you won&#8217;t need to download ViennaGrid by yourself, since it is already included in the repository as a Git submodule. If you want the code of ViennaGrid to be downloaded automatically when you clone the repository, you can do it in a single command, if you want:</p>
<div class="highlight-python"><pre>git clone --recursive git@github.com:genba/viennagrid-python.git</pre>
</div>
<p>However, if you&#8217;ve already cloned ViennaGrid for Python from the Git repository and haven&#8217;t provided the <cite>&#8211;recursive</cite> option to Git, you can still tell Git to download the submodule with the following command:</p>
<div class="highlight-python"><pre>git submodules update</pre>
</div>
<p>After doing this, you are already set up to build ViennaGrid for Python. If you want to install ViennaGrid for Python to a virtual environment, proceed to section <a class="reference internal" href="#setting-up-devel-environ"><em>Setting up the development environment</em></a>. If you don&#8217;t want to do this, just skip to <a class="reference internal" href="#configuring-source"><em>Configuring the source code to be built</em></a>.</p>
</div>
<div class="section" id="creating-a-python-virtual-environment">
<h4>2.4.2.1.3. Creating a Python virtual environment<a class="headerlink" href="#creating-a-python-virtual-environment" title="Permalink to this headline">¶</a></h4>
<p>As said before, this step is optional. If you don&#8217;t do it, ViennaGrid for Python will be installed into your system&#8217;s Python installation, which is actually desireable for stable releases of ViennaGrid for Python. However, if you are installing an unstable release or want to develop ViennaGrid for Python, you probably don&#8217;t want it to mess with your system&#8217;s Python installation and break something. In that case, you should create a Python virtual environment to isolate any changes. When you install the build products of ViennaGrid for Python, they will be installed into this virtual environment and it won&#8217;t affect the rest of your system at all, thus not breaking anything in your system&#8217;s Python installation and all the software that depends on it. Furthermore, this will allow you to keep different versions of ViennaGrid for Python installed on your system, since you can install different versions to different virtual environments, and a different version into your system&#8217;s Python installation.</p>
<p>To create a virtual environment, you need the Python package <a class="reference external" href="https://pypi.python.org/pypi/virtualenv">virtualenv</a>. If you don&#8217;t have it, install it from your system&#8217;s package manager or using <a class="reference external" href="https://pypi.python.org/pypi/pip">pip</a>:</p>
<div class="highlight-python"><pre>pip install virtualenv</pre>
</div>
<p>Once you have <cite>virtualenv</cite> installed, move to the directory where you want to place the virtual environment (if you want, you can safely keep this inside the source code directory of ViennaGrid for Python) and create a new directory, which is where your virtual environment will be installed. We will call it <cite>env</cite>:</p>
<div class="highlight-python"><pre>mkdir env</pre>
</div>
<p>Finally, create the virtual environment and activate it for your current terminal session:</p>
<div class="highlight-python"><pre>virtualenv --no-site-packages env/
source env/bin/activate</pre>
</div>
<p>If you want to learn more about <cite>virtualenv</cite> or <cite>pip</cite>, visit their respective documentation sites:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.virtualenv.org/">virtualenv documentation</a></li>
<li><a class="reference external" href="http://www.pip-installer.org/">pip documentation</a></li>
</ul>
<p>You&#8217;re now ready to go on with <a class="reference internal" href="#configuring-source"><em>Configuring the source code to be built</em></a>.</p>
</div>
</div>
<div class="section" id="automatic-setup">
<span id="id3"></span><h3>2.4.2.2. Automatic setup<a class="headerlink" href="#automatic-setup" title="Permalink to this headline">¶</a></h3>
<p>In the source code directory of ViennaGrid for Python, there is a directory called <cite>scripts</cite> that contains scripts that are useful for the development of ViennaGrid for Python. One of these scripts is a Python script named <cite>bootstrap.py</cite>.</p>
<p>This script can be used to automatically set up a development environment for ViennaGrid for Python. If you call it passing the destination directory for libraries as a parameter (let&#8217;s say, <cite>inc</cite>)</p>
<div class="highlight-python"><pre>./scripts/bootstrap.py inc/</pre>
</div>
<p>it will download and compile Boost.Python, and get the latest ViennaGrid version from the GitHub repository.</p>
<p>If you also want to install Boost.Python to your system, add the <cite>-I</cite> option (notice that <cite>sudo</cite> must be configured on your system for this to work):</p>
<div class="highlight-python"><pre>./scripts/bootstrap.py inc/ -I</pre>
</div>
<p>If you want to set up a virtual environment under <cite>env</cite>, add the <cite>-e</cite> option:</p>
<div class="highlight-python"><pre>./scripts/bootstrap.py inc/ -e env/</pre>
</div>
<p>If you want the script to ask you before doing anything, you can enter the interactive mode with the <cite>-i</cite> option:</p>
<div class="highlight-python"><pre>./scripts/bootstrap.py inc/ -i</pre>
</div>
<p>To get more information on how to use the bootstrap script, use the <cite>&#8211;help</cite> command line argument:</p>
<div class="highlight-python"><pre>./scripts/bootstrap.py --help</pre>
</div>
</div>
</div>
<div class="section" id="configuring-the-source-code-to-be-built">
<span id="configuring-source"></span><h2>2.4.3. Configuring the source code to be built<a class="headerlink" href="#configuring-the-source-code-to-be-built" title="Permalink to this headline">¶</a></h2>
<p>To configure the source code, we will use <a class="reference external" href="http://www.cmake.org/">CMake</a>.</p>
<p>First of all, we need to create a directory where the project will be built. We choose to create a directory called <cite>build</cite> in the root directory of the source code directory, i.e., <cite>viennagrid-python-0.1.0</cite> if you&#8217;ve downloaded the tarball or <cite>viennagrid-python</cite> if you&#8217;ve cloned the Git repository. So, from that directory, we issue the following commands:</p>
<div class="highlight-python"><pre>mkdir build
cd build/</pre>
</div>
<p>From now on, we will execute the rest of the commands from within the <cite>build</cite> directory. To generate the configuration for building the project, use any of the following CMake commands, depending on which of them you&#8217;ve installed and what kind of interface you prefer to use:</p>
<ul class="simple">
<li><cite>cmake ..</cite> (command line interface)</li>
<li><cite>ccmake ..</cite> (curses interface)</li>
<li><cite>cmake-gui ..</cite> (GUI)</li>
</ul>
<p>If you&#8217;ve set up the development environment as explained above and installed Boost.Python to your system, you shouldn&#8217;t have to do anything and there shouldn&#8217;t be any errors to solve. The whole configuration process should have happened without requiring any input from you.</p>
<p>However, if you haven&#8217;t installed Boost to your system, you&#8217;ll get a CMake error message stating that it could not find Boost.Python and you&#8217;ll have to provide its location manually. After that, re-run the configuration tool again and everything should work fine now, and you will be able to proceed to <a class="reference internal" href="#building-source"><em>Building the source code</em></a>.</p>
<p>For more information on how to use CMake, visit <a class="reference external" href="http://www.cmake.org/">http://www.cmake.org/</a>. There&#8217;s also a very good book titled <a class="reference external" href="http://www.cmake.org/cmake/help/book.html">Mastering CMake</a>, which dedicates a whole chapter to explain CMake&#8217;s installation and usage for building software.</p>
</div>
<div class="section" id="building-the-source-code">
<span id="building-source"></span><h2>2.4.4. Building the source code<a class="headerlink" href="#building-the-source-code" title="Permalink to this headline">¶</a></h2>
<p>Once you have configured the project using CMake, you can build the whole project from the <cite>build</cite> directory by issuing the command:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">make</span>
</pre></div>
</div>
<p>This will build the low-level wrapper (written in C++ with Boost.Python) as a shared library and place the object file into <cite>build/lib/</cite>, and the Python distribution package (created with <a class="reference external" href="http://docs.python.org/2/library/distutils.html">distutils</a>) will be placed in <cite>build/viennagrid-python/</cite>. Inside that directory, you&#8217;ll find the <cite>setup.py</cite> script, the source code of the Python package <cite>viennagrid</cite> and, inside the package, a copy of the shared library.</p>
<p>Notice, however, that inside those directories there are additional files used to build the distribution package. If you want the final source distribution package, it can be found under <cite>build/viennagrid-python/dist/</cite> as a compressed file (the file format will depend on what operating system you&#8217;ve built the project on).</p>
</div>
<div class="section" id="installing-the-software">
<h2>2.4.5. Installing the software<a class="headerlink" href="#installing-the-software" title="Permalink to this headline">¶</a></h2>
<p>In order to install the Python package you can just run</p>
<div class="highlight-python"><pre>make install</pre>
</div>
<p>Please notice that you&#8217;ll need administration privileges to do this.</p>
<p>This will install the source distribution package with the Sphinx documentation to your Python installation. This command is preferred to running</p>
<div class="highlight-python"><pre>python setup.py install</pre>
</div>
<p>from the directory <cite>build/viennagrid-python</cite>, even though they should have exactly the same effect.</p>
</div>
<div class="section" id="running-tests">
<h2>2.4.6. Running tests<a class="headerlink" href="#running-tests" title="Permalink to this headline">¶</a></h2>
<p>You can run the test for the wrapper by issuing the command</p>
<div class="highlight-python"><pre>make test</pre>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">2.4. Installation from source</a><ul>
<li><a class="reference internal" href="#downloading-the-source-code-of-viennagrid-for-python">2.4.1. Downloading the source code of ViennaGrid for Python</a></li>
<li><a class="reference internal" href="#setting-up-the-development-environment">2.4.2. Setting up the development environment</a><ul>
<li><a class="reference internal" href="#manual-setup">2.4.2.1. Manual setup</a><ul>
<li><a class="reference internal" href="#downloading-and-installing-boost-python">2.4.2.1.1. Downloading and installing Boost.Python</a></li>
<li><a class="reference internal" href="#getting-viennagrid">2.4.2.1.2. Getting ViennaGrid</a></li>
<li><a class="reference internal" href="#creating-a-python-virtual-environment">2.4.2.1.3. Creating a Python virtual environment</a></li>
</ul>
</li>
<li><a class="reference internal" href="#automatic-setup">2.4.2.2. Automatic setup</a></li>
</ul>
</li>
<li><a class="reference internal" href="#configuring-the-source-code-to-be-built">2.4.3. Configuring the source code to be built</a></li>
<li><a class="reference internal" href="#building-the-source-code">2.4.4. Building the source code</a></li>
<li><a class="reference internal" href="#installing-the-software">2.4.5. Installing the software</a></li>
<li><a class="reference internal" href="#running-tests">2.4.6. Running tests</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="osx.html"
                        title="previous chapter">2.3. Installation on OS X</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../tutorial.html"
                        title="next chapter">3. Tutorials</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../sources/install/src.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../tutorial.html" title="3. Tutorials"
             >next</a> |</li>
        <li class="right" >
          <a href="osx.html" title="2.3. Installation on OS X"
             >previous</a> |</li>
        <li><a href="../index.html">ViennaGrid for Python 0.1.0 documentation</a> &raquo;</li>
          <li><a href="../install.html" >2. Installation instructions</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2013, Jonan Cruz-Martin.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>